package com.bridgeit.objectorientedprograms;

import java.io.File;
import java.io.Serializable;
import java.util.Collections;
import java.util.Observable;
import java.util.Vector;

public class Book  extends Observable implements Serializable
{
	private Vector collection;
	  private transient File file;
	  private transient boolean changedSinceLastSave;
	  private String outputAll;

	  public Book() {
	    this.collection = new Vector();
	    this.file = null;
	    this.changedSinceLastSave = false;
	    this.outputAll = null;
	  }

	  public int getNumberOfPersons() {
	    return this.collection.size();
	  }

	  public void addPerson(int id, String first, String last,
	                        String address, String city, String state, String zip,
	                        String phone) {
	    this.collection.addElement( new Person( first, last, address, city, state, zip, phone));
	    setChangedSinceLastSave(true);
	  }

	 /* public String getFullNameOfPerson(int id) {
	    Person localPerson = (Person) this.collection.elementAt(id);
	    return localPerson.getFirstName() + " " + localPerson.getLastName();
	  }

	  public String getFullInfoOfPerson(int id) {
	    Person localPerson = (Person) this.collection.elementAt(id);
	    return 
	           localPerson.getFirstName() + " " + localPerson.getLastName() +
	           " at " + localPerson.getAddress() + ", " + localPerson.getCity() +
	           ", " + localPerson.getState() + " " + localPerson.getZIP() +
	           " (" + localPerson.getPhone() + ")";
	  }*/

	  /*public String[] getOtherPersonInformation(int id) {
	    Person localPerson = (Person) this.collection.elementAt(id);
	    String[]
	        arrayOfString =
	        {localPerson.getAddress(), localPerson.getCity(), localPerson.getState(),
	         localPerson.getZIP(), localPerson.getPhone()};
	    return arrayOfString;
	  }*/

	/*  public void updatePerson(int id, String address, String city, String state,
	                           String zip, String phone, String email) 
	  {
	    ((Person) this.collection.elementAt(id))
	        .update(address, city, state, zip, phone, email);
	    setChangedSinceLastSave(true);
	  }*/

	  public void removePerson(int id) {
	    this.collection.removeElementAt(id);
	    setChangedSinceLastSave(true);
	  }

	  public void sortBylastName() {
	    Collections.sort(this.collection, new Person.CompareBylastName());
	    setChangedSinceLastSave(true);
	  }

	  public void sortByzIP() {
	    Collections.sort(this.collection, new Person.CompareByzIP());
	    setChangedSinceLastSave(true);
	}

	private void setChangedSinceLastSave(boolean changed) {
		this.changedSinceLastSave = changed;
	    setChanged();
	   notifyObservers();
		
	}
	public boolean getChangedSinceLastSave() {
	    return this.changedSinceLastSave;
	}
}
